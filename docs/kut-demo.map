{"version":3,"sources":["../dist/lib/constant.js","../dist/lib/element.js","../dist/lib/component.js","../dist/lib/util.js","../dist/lib/diff.js","../dist/lib/event.js","../dist/lib/instance.js","../dist/lib/renderer.js","../dist/lib/kut.js","../index.js","components/Banner/index.jsx","components/Nav/index.jsx","components/Content/index.jsx","components/Demo/index.jsx","components/Footer/index.jsx","App.jsx","index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["Object","defineProperty","exports","value","KUT_ID","KUT_RESERVED_PROPS","key","CUT_ON_REGEX","eventHandlers","keys","window","filter","test","KUT_SUPPORTED_EVENTS","map","replace","KUT_SUPPORTED_EVENT_HANDLERS","forEach","eventHandler","constant_1","require","createElement","type","config","rawChildren","_i","arguments","length","children","concat","apply","props","prop","hasOwnProperty","call","Component","state","update","nextElement","nextState","prototype","setState","assign","forceUpdate","render","componentWillMount","componentDidMount","componentWillReceiveProps","nextProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount","getParentID","childID","regex","getNode","kutId","document","querySelector","createNode","markup","createTextNode","node","innerHTML","firstChild","getClassString","className","cls","join","Array","isArray","toString","trim","getStyleString","style","letter","toLowerCase","renderer_1","util_1","diff","prevInstances","nextChildren","prevInstanceMap","inst","index","nextInstances","nextChild","prevInstance","shouldReceive","push","nextInstance","instantiate","forwardOps","backwardOps","lastForwardIndex","lastBackwardIndex","forwardNextInstance","forwardPrevInstance","Math","max","backwardNextInstance","backwardPrevInstance","min","nextInstanceMap","ops","dir","patch","parentId","patches","container","insertNum","op","beforeIndex","beforeNode","mount","undefined","insertBefore","appendChild","unmount","eventHanlders","event","addEventListener","e","target","getAttribute","eventHanlder","setEventListener","removeEventListener","removeAllEventListener","diff_1","event_1","TextInstance","element","_element","get","enumerable","configurable","innerText","remove","DOMInstance","_this","_childInstances","child","instance","prevProps","cssText","setAttribute","removeAttribute","prevChildInstances","ComponentInstance","ComponentConstructor","_component","bind","renderedElement","_renderedInstance","nextRenderedElement","component_1","instance_1","rootId","random","substring","element_1","Kut","default","module","Banner","Nav","nav","fix","Content","top","uniqueKey","holding","pos","x","y","Demo","input","todos","item","todo","shuffleTodos","i","floor","splice","tagName","position","left","console","log","handleInput","handleAdd","handleRan","handleHold","handleMove","handleRelease","handleDel","Footer","App","pageYOffset","tab","color","getElementById","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","bundle","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChPA;;;;AACAtJ,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAI0J,cAAczI,QAAQ,aAAR,CAAlB;AACA,IAAI0I,aAAa1I,QAAQ,YAAR,CAAjB;AACA,SAASwE,WAAT,CAAqByC,OAArB,EAA8B;AAC1B,QAAIW,WAAW,IAAf;AACA,QAAI,OAAOX,OAAP,KAAmB,QAAnB,IAA+B,OAAOA,OAAP,KAAmB,QAAtD,EAAgE;AAC5DW,mBAAW,IAAIc,WAAW1B,YAAf,CAA4BC,OAA5B,CAAX;AACH,KAFD,MAGK,IAAI,OAAOA,QAAQ/G,IAAf,KAAwB,QAA5B,EAAsC;AACvC0H,mBAAW,IAAIc,WAAWlB,WAAf,CAA2BP,OAA3B,CAAX;AACH,KAFI,MAGA,IAAI,QAAOA,QAAQ/G,IAAf,cAA+BuI,YAAY1H,SAA3C,CAAJ,EAA0D;AAC3D6G,mBAAW,IAAIc,WAAWR,iBAAf,CAAiCjB,OAAjC,CAAX;AACH;AACD,WAAOW,QAAP;AACH;AACD9I,QAAQ0F,WAAR,GAAsBA,WAAtB;AACA,SAAShD,MAAT,CAAgByF,OAAhB,EAAyBvB,SAAzB,EAAoC;AAChC,QAAIkC,WAAWpD,YAAYyC,OAAZ,CAAf;AACA,QAAI0B,SAAS5D,KAAK6D,MAAL,GAAcxF,QAAd,CAAuB,EAAvB,EAA2ByF,SAA3B,CAAqC,CAArC,EAAwC,CAAxC,CAAb;AACAnD,cAAU9C,SAAV,GAAsBgF,SAAS7B,KAAT,CAAe4C,MAAf,CAAtB;AACH;AACD7J,QAAQ0C,MAAR,GAAiBA,MAAjB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxBA;;AACA5C,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C,EAAEC,OAAO,IAAT,EAA7C;AACA,IAAI+J,YAAY9I,QAAQ,WAAR,CAAhB;AACA,IAAIyI,cAAczI,QAAQ,aAAR,CAAlB;AACA,IAAI0D,aAAa1D,QAAQ,YAAR,CAAjB;AACA,IAAI+I,MAAM;AACN9I,mBAAe6I,UAAU7I,aADnB;AAENc,eAAW0H,YAAY1H,SAFjB;AAGNS,YAAQkC,WAAWlC;AAHb,CAAV;AAKA,IAAIlC,MAAJ,EAAY;AACRA,WAAOyJ,GAAP,GAAaA,GAAb;AACH;AACDjK,QAAQkK,OAAR,GAAkBD,GAAlB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;;AACAE,OAAOnK,OAAP,GAAiBkB,QAAQ,mBAAR,CAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AQDA,IAAIwL,YAAY,IAAhB;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,gBAAYE,cAAZ;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,UAAU,CAAC,KAAKD,IAAIE,KAAV,EAAiBC,KAAjB,CAAuB,gCAAvB,CAAd;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,WAAWH,QAAQ,CAAR,CAAX,CAAP;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWtM,OAAX,CAAmB,uCAAnB,EAA4D,IAA5D,IAAoE,GAA3E;AACD;;AAEDb,QAAQ4M,YAAR,GAAuBD,kBAAvB;AACA3M,QAAQkN,UAAR,GAAqBA,UAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA,IAAIE,SAASlM,QAAQ,cAAR,CAAb;;AAEA,SAASmM,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,UAAUD,KAAKE,SAAL,EAAd;AACAD,UAAQE,MAAR,GAAiB,YAAY;AAC3BH,SAAK7E,MAAL;AACD,GAFD;AAGA8E,UAAQG,IAAR,GAAeJ,KAAKI,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,KAAKC,GAAL,EAA/C;AACAP,OAAKQ,UAAL,CAAgB3G,YAAhB,CAA6BoG,OAA7B,EAAsCD,KAAKS,WAA3C;AACD;;AAED,IAAIC,aAAa,IAAjB;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,eAAaE,WAAW,YAAY;AAClC,QAAIC,QAAQ3K,SAAS4K,gBAAT,CAA0B,wBAA1B,CAAZ;AACA,SAAK,IAAI/C,IAAI,CAAb,EAAgBA,IAAI8C,MAAM1M,MAA1B,EAAkC4J,GAAlC,EAAuC;AACrC,UAAI+B,OAAOF,UAAP,CAAkBiB,MAAM9C,CAAN,EAASqC,IAA3B,MAAqCN,OAAOR,YAAP,EAAzC,EAAgE;AAC9DS,mBAAWc,MAAM9C,CAAN,CAAX;AACD;AACF;;AAED2C,iBAAa,IAAb;AACD,GATY,EASV,EATU,CAAb;AAUD;;AAED7D,OAAOnK,OAAP,GAAiBiO,SAAjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AR7BA;;;;AACA;;;;;;;;;;IAEM7D;;;AACJ,kBAAYvI,KAAZ,EAAmB;AAAA;;AAAA,2GACXA,KADW;AAElB;;;;6BACQ;AACP,aACE;AAAA;AAAA,UAAQ,WAAU,QAAlB;AACE;AAAA;AAAA,YAAI,WAAU,OAAd;AAAA;AAAA,SADF;AAEE;AAAA;AAAA,YAAG,WAAU,MAAb;AAAA;AAAA,SAFF;AAGE;AAAA;AAAA,YAAK,WAAU,MAAf;AACE;AAAA;AAAA,cAAG,MAAK,mCAAR;AACE,mDAAK,KAAI,wDAAT,EAAkE,KAAI,EAAtE;AADF,WADF;AAIE;AAAA;AAAA,cAAG,MAAK,gCAAR;AACE,mDAAK,KAAI,mFAAT,EAA6F,KAAI,EAAjG;AADF;AAJF;AAHF,OADF;AAcD;;;;EAnBkB,gBAAMI;;kBAsBZmI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBf;;;;AACA;;;;;;;;;;IAEMC;;;AACJ,eAAYxI,KAAZ,EAAmB;AAAA;;AAAA,qGACXA,KADW;AAElB;;;;6BACQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,KAAf;AACE;AAAA;AAAA,YAAK,WAAW;AACdyI,mBAAK,IADS;AAEdC,mBAAK,KAAK1I,KAAL,CAAW0I;AAFF,aAAhB;AAIG,eAAK1I,KAAL,CAAWH;AAJd;AADF,OADF;AAUD;;;;EAfe,gBAAMO;;kBAkBToI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBf;;;;AACA;;;;;;;;;;IAEMG;;;AACJ,mBAAY3I,KAAZ,EAAmB;AAAA;;AAAA,6GACXA,KADW;AAElB;;;;6BACQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,SAAf;AACE;AAAA;AAAA,YAAK,WAAW;AACd4I,mBAAK,KAAK5I,KAAL,CAAW0I;AADF,aAAhB;AAGG,eAAK1I,KAAL,CAAWH;AAHd;AADF,OADF;AASD;;;;EAdmB,gBAAMO;;kBAiBbuI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AEpBf;;;;AACA;;;;;;;;;;IAEM4B;;;AACJ,kBAAYvK,KAAZ,EAAmB;AAAA;;AAAA,2GACXA,KADW;AAElB;;;;6BACQ;AACP,aACE;AAAA;AAAA,UAAQ,WAAU,QAAlB;AACE;AAAA;AAAA,YAAG,WAAU,MAAb,EAAoB,MAAK,gCAAzB;AAAA;AAAA;AADF,OADF;AAKD;;;;EAVkB,gBAAMI;;kBAaZmK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEMC;;;AACJ,eAAYxK,KAAZ,EAAmB;AAAA;;AAAA,0GACXA,KADW;;AAEjB,UAAKK,KAAL,GAAa;AACXqI,WAAK;AADM,KAAb;AAFiB;AAKlB;;;;wCACmB;AAAA;;AAClB/J,aAAOgH,gBAAP,CAAwB,QAAxB,EAAkC,aAAK;AACrC,YAAIhH,OAAO8L,WAAP,GAAqB,GAArB,IAA4B,CAAC,OAAKpK,KAAL,CAAWqI,GAA5C,EAAiD;AAC/C,iBAAKhI,QAAL,CAAc,EAAEgI,KAAK,IAAP,EAAd;AACD,SAFD,MAEO,IAAI/J,OAAO8L,WAAP,IAAsB,GAAtB,IAA6B,OAAKpK,KAAL,CAAWqI,GAA5C,EAAiD;AACtD,iBAAKhI,QAAL,CAAc,EAAEgI,KAAK,KAAP,EAAd;AACD;AACF,OAND;AAOD;;;6BACQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,KAAf;AACE,6DADF;AAEE;AAAA;AAAA,YAAK,KAAK,KAAKrI,KAAL,CAAWqI,GAArB;AACE;AAAA;AAAA,cAAG,WAAW,EAAEgC,KAAK,IAAP,EAAaC,OAAO,KAAKtK,KAAL,CAAWqI,GAA/B,EAAd,EAAoD,MAAK,QAAzD;AAAA;AAAA,WADF;AAEE;AAAA;AAAA,cAAG,WAAW,EAAEgC,KAAK,IAAP,EAAaC,OAAO,KAAKtK,KAAL,CAAWqI,GAA/B,EAAd,EAAoD,MAAK,OAAzD;AAAA;AAAA,WAFF;AAGE;AAAA;AAAA,cAAG,WAAW,EAAEgC,KAAK,IAAP,EAAaC,OAAO,KAAKtK,KAAL,CAAWqI,GAA/B,EAAd,EAAoD,MAAK,OAAzD;AAAA;AAAA;AAHF,SAFF;AAOE;AAAA;AAAA,YAAS,KAAK,KAAKrI,KAAL,CAAWqI,GAAzB;AACE,iDAAK,IAAG,OAAR,EAAgB,WAAU,QAA1B,GADF;AAEE;AAAA;AAAA,cAAK,WAAU,MAAf;AACE;AAAA;AAAA,gBAAI,SAAM,OAAV;AAAA;AAAA,aADF;AAEE;AAAA;AAAA,gBAAG,SAAM,aAAT;AAAA;AAAA,aAFF;AAGE;AAAA;AAAA,gBAAG,SAAM,aAAT;AAAA;AAAyG;AAAA;AAAA,kBAAG,MAAK,uCAAR;AAAA;AAAA,eAAzG;AAAA;AAAA,aAHF;AAIE;AAAA;AAAA,gBAAG,SAAM,aAAT;AAAA;AAAA;AAJF,WAFF;AAQE,iDAAK,IAAG,MAAR,EAAe,WAAU,QAAzB,GARF;AASE;AAAA;AAAA,cAAK,WAAU,MAAf;AACE;AAAA;AAAA,gBAAI,SAAM,OAAV;AAAA;AAAA,aADF;AAEE;AAFF,WATF;AAaE,iDAAK,IAAG,MAAR,EAAe,WAAU,QAAzB,GAbF;AAcE;AAAA;AAAA,cAAK,WAAU,MAAf;AACE;AAAA;AAAA,gBAAI,SAAM,OAAV;AAAA;AAAA,aADF;AAEE;AAAA;AAAA,gBAAG,SAAM,aAAT;AAAA;AAAA,aAFF;AAGE;AAAA;AAAA,gBAAI,SAAM,OAAV;AAAA;AAAA,aAHF;AAIE;AAAA;AAAA,gBAAI,SAAM,OAAV;AAAA;AAAA,aAJF;AAKE;AAAA;AAAA,gBAAI,SAAM,OAAV;AAAA;AAAA;AALF;AAdF,SAPF;AA6BE;AA7BF,OADF;AAiCD;;;;EAlDe,gBAAMtI;;kBAqDToK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7Df;;;;AACA;;;;AACA;;;;AAEA,gBAAM3J,MAAN,CAAa,kDAAb,EAAsBc,SAASiJ,cAAT,CAAwB,MAAxB,CAAtB","file":"kut-demo.map","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KUT_ID = 'data-kutid';\nexports.KUT_RESERVED_PROPS = {\n    key: true,\n};\nexports.CUT_ON_REGEX = /^on/;\nvar eventHandlers = Object.keys(window || {}).filter(function (key) { return exports.CUT_ON_REGEX.test(key); });\nexports.KUT_SUPPORTED_EVENTS = eventHandlers.map(function (key) { return key.replace(exports.CUT_ON_REGEX, ''); });\nexports.KUT_SUPPORTED_EVENT_HANDLERS = {};\neventHandlers.forEach(function (eventHandler) {\n    exports.KUT_SUPPORTED_EVENT_HANDLERS[eventHandler] = true;\n});\n//# sourceMappingURL=constant.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constant_1 = require(\"./constant\");\nfunction createElement(type, config) {\n    var rawChildren = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        rawChildren[_i - 2] = arguments[_i];\n    }\n    var children = rawChildren.length\n        ? [].concat.apply([], rawChildren) : [''];\n    var props = { children: children };\n    var key = null;\n    if (config) {\n        if (config.key != null) {\n            key = ('' + config.key).replace(/:/g, '_');\n        }\n        for (var prop in config) {\n            if (Object.hasOwnProperty.call(config, prop)\n                && !constant_1.KUT_RESERVED_PROPS[prop]) {\n                props[prop] = config[prop];\n            }\n        }\n    }\n    return { type: type, key: key, props: props };\n}\nexports.createElement = createElement;\n//# sourceMappingURL=element.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Component = (function () {\n    function Component(props) {\n        this.state = {};\n        this.props = props;\n        this.update = function (nextElement, nextState) { };\n    }\n    Component.prototype.setState = function (state) {\n        this.state = Object.assign({}, this.state, state);\n        this.update(null, this.state);\n    };\n    Component.prototype.forceUpdate = function () {\n        this.update(null, this.state);\n    };\n    Component.prototype.render = function (props) {\n        if (props === void 0) { props = this.props; }\n        return null;\n    };\n    Component.prototype.componentWillMount = function () { };\n    Component.prototype.componentDidMount = function () { };\n    Component.prototype.componentWillReceiveProps = function (nextProps) { };\n    Component.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        return true;\n    };\n    Component.prototype.componentWillUpdate = function (nextProps, nextState) { };\n    Component.prototype.componentDidUpdate = function () { };\n    Component.prototype.componentWillUnmount = function () { };\n    return Component;\n}());\nexports.Component = Component;\n//# sourceMappingURL=component.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constant_1 = require(\"./constant\");\nfunction getParentID(childID) {\n    var regex = /[:]\\w+$/;\n    return regex.test(childID) && childID.replace(regex, '');\n}\nexports.getParentID = getParentID;\nfunction getNode(kutId) {\n    return document.querySelector(\"[\" + constant_1.KUT_ID + \"=\\\"\" + kutId + \"\\\"]\");\n}\nexports.getNode = getNode;\nfunction createNode(markup) {\n    if (markup === '') {\n        return document.createTextNode('');\n    }\n    else {\n        var node = document.createElement('div');\n        node.innerHTML = markup;\n        return node.firstChild;\n    }\n}\nexports.createNode = createNode;\nfunction getClassString(className) {\n    var markup = '';\n    if (className == null) {\n    }\n    else if (typeof className === 'object') {\n        markup +=\n            Object.keys(className)\n                .filter(function (cls) { return className[cls]; })\n                .join(' ');\n    }\n    else if (Array.isArray(className)) {\n        markup += className.join(' ');\n    }\n    else {\n        markup += className.toString();\n    }\n    return markup.trim();\n}\nexports.getClassString = getClassString;\nfunction getStyleString(style) {\n    var markup = '';\n    if (style == null) {\n    }\n    else if (typeof style === 'object') {\n        for (var key in style) {\n            if (Object.hasOwnProperty.call(style, key)) {\n                markup +=\n                    key.replace(/[A-Z]/g, function (letter) { return \"-\" + letter.toLowerCase(); })\n                        + (\": \" + style[key] + \"; \");\n            }\n        }\n    }\n    else {\n        markup += style.toString();\n    }\n    return markup.trim();\n}\nexports.getStyleString = getStyleString;\n//# sourceMappingURL=util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar renderer_1 = require(\"./renderer\");\nvar util_1 = require(\"./util\");\nfunction diff(prevInstances, nextChildren) {\n    var prevInstanceMap = {};\n    prevInstances.forEach(function (inst, index) {\n        return prevInstanceMap[inst.key] = inst;\n    });\n    var nextInstances = [];\n    nextChildren.forEach(function (nextChild, index) {\n        var key = nextChild.key != null\n            ? 'k_' + nextChild.key\n            : '' + index;\n        var prevInstance = prevInstanceMap[key];\n        if (prevInstance && prevInstance.shouldReceive(nextChild)) {\n            prevInstance.update(nextChild);\n            nextInstances.push(prevInstance);\n        }\n        else {\n            var nextInstance = renderer_1.instantiate(nextChild);\n            nextInstance.index = index;\n            nextInstances.push(nextInstance);\n        }\n    });\n    var forwardOps = [];\n    var backwardOps = [];\n    var lastForwardIndex = -1;\n    var lastBackwardIndex = prevInstances.length;\n    for (var index = 0; index < nextInstances.length; ++index) {\n        var forwardNextInstance = nextInstances[index];\n        var forwardPrevInstance = prevInstanceMap[forwardNextInstance.key];\n        if (forwardPrevInstance === forwardNextInstance) {\n            if (forwardPrevInstance.index < lastForwardIndex) {\n                forwardOps.push({\n                    type: 'move',\n                    index: lastForwardIndex,\n                    inst: forwardPrevInstance,\n                });\n            }\n            lastForwardIndex = Math.max(forwardPrevInstance.index, lastForwardIndex);\n        }\n        else {\n            if (forwardPrevInstance) {\n                forwardOps.push({\n                    type: 'remove',\n                    index: -1,\n                    inst: forwardPrevInstance,\n                });\n            }\n            forwardOps.push({\n                type: 'insert',\n                index: lastForwardIndex,\n                inst: forwardNextInstance,\n            });\n        }\n        var backwardNextInstance = nextInstances[nextInstances.length - index - 1];\n        var backwardPrevInstance = prevInstanceMap[backwardNextInstance.key];\n        if (backwardPrevInstance === backwardNextInstance) {\n            if (backwardPrevInstance.index > lastBackwardIndex) {\n                backwardOps.push({\n                    type: 'move',\n                    index: lastBackwardIndex,\n                    inst: backwardPrevInstance,\n                });\n            }\n            lastBackwardIndex = Math.min(backwardPrevInstance.index, lastBackwardIndex);\n        }\n        else {\n            if (backwardPrevInstance) {\n                backwardOps.push({\n                    type: 'remove',\n                    index: -1,\n                    inst: backwardPrevInstance,\n                });\n            }\n            backwardOps.push({\n                type: 'insert',\n                index: lastBackwardIndex,\n                inst: backwardNextInstance,\n            });\n        }\n    }\n    var nextInstanceMap = {};\n    nextInstances.forEach(function (inst, index) {\n        return nextInstanceMap[inst.key] = inst;\n    });\n    for (var key in prevInstanceMap) {\n        if (!nextInstanceMap[key]) {\n            forwardOps.push({\n                type: 'remove',\n                index: -1,\n                inst: prevInstanceMap[key],\n            });\n            backwardOps.push({\n                type: 'remove',\n                index: -1,\n                inst: prevInstanceMap[key],\n            });\n        }\n    }\n    nextInstances.forEach(function (nextInstance, index) { return nextInstance.index = index; });\n    prevInstances.length = 0;\n    prevInstances.push.apply(prevInstances, nextInstances);\n    return forwardOps.length < backwardOps.length\n        ? { ops: forwardOps, dir: 'forward' }\n        : { ops: backwardOps, dir: 'backward' };\n}\nexports.diff = diff;\nfunction patch(parentId, patches) {\n    var container = util_1.getNode(parentId);\n    var ops = patches.ops, dir = patches.dir;\n    var insertNum = 0;\n    ops.forEach(function (op) {\n        var beforeIndex = dir === 'forward'\n            ? op.index + 1 + insertNum\n            : op.index;\n        switch (op.type) {\n            case 'insert': {\n                var beforeNode = container.children[beforeIndex];\n                var markup = op.inst.mount(parentId + \":\" + op.inst.key);\n                var node = util_1.createNode(markup);\n                if (beforeNode !== undefined) {\n                    container.insertBefore(node, beforeNode);\n                }\n                else {\n                    container.appendChild(node);\n                }\n                ++insertNum;\n                break;\n            }\n            case 'move': {\n                var beforeNode = container.children[beforeIndex];\n                if (beforeNode !== undefined) {\n                    container.insertBefore(op.inst.node, beforeNode);\n                }\n                else {\n                    container.appendChild(op.inst.node);\n                }\n                break;\n            }\n            default: {\n                op.inst.unmount();\n            }\n        }\n    });\n}\nexports.patch = patch;\n//# sourceMappingURL=diff.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constant_1 = require(\"./constant\");\nvar util_1 = require(\"./util\");\nvar eventHanlders = {};\nif (document) {\n    constant_1.KUT_SUPPORTED_EVENTS.forEach(function (event) {\n        document.addEventListener(event, function (e) {\n            var kutId = e.target.getAttribute\n                && e.target.getAttribute(constant_1.KUT_ID);\n            while (kutId) {\n                var eventHanlder = eventHanlders[kutId] && eventHanlders[kutId][event];\n                if (eventHanlder) {\n                    eventHanlder(e);\n                }\n                kutId = util_1.getParentID(kutId);\n            }\n        });\n    });\n}\nfunction setEventListener(kutId, event, eventHanlder) {\n    if (!eventHanlders[kutId]) {\n        eventHanlders[kutId] = {};\n    }\n    eventHanlders[kutId][event] = eventHanlder;\n}\nexports.setEventListener = setEventListener;\nfunction removeEventListener(kutId, event) {\n    if (eventHanlders[kutId]) {\n        delete eventHanlders[kutId][event];\n    }\n}\nexports.removeEventListener = removeEventListener;\nfunction removeAllEventListener(kutId) {\n    delete eventHanlders[kutId];\n}\nexports.removeAllEventListener = removeAllEventListener;\n//# sourceMappingURL=event.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar renderer_1 = require(\"./renderer\");\nvar diff_1 = require(\"./diff\");\nvar constant_1 = require(\"./constant\");\nvar event_1 = require(\"./event\");\nvar util_1 = require(\"./util\");\nvar TextInstance = (function () {\n    function TextInstance(element) {\n        this.index = 0;\n        this._element = '' + element;\n    }\n    Object.defineProperty(TextInstance.prototype, \"key\", {\n        get: function () {\n            return '' + this.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TextInstance.prototype, \"node\", {\n        get: function () {\n            return util_1.getNode(this.kutId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TextInstance.prototype.mount = function (kutId) {\n        this.kutId = kutId;\n        return \"<span \" + constant_1.KUT_ID + \"=\\\"\" + kutId + \"\\\" >\" + this._element + \"</span>\";\n    };\n    TextInstance.prototype.shouldReceive = function (nextElement) {\n        return (typeof nextElement === 'number' || typeof nextElement === 'string');\n    };\n    TextInstance.prototype.update = function (nextElement) {\n        nextElement = nextElement == null ? this._element : '' + nextElement;\n        if (this._element !== nextElement) {\n            this._element = nextElement;\n            this.node.innerText = this._element;\n        }\n    };\n    TextInstance.prototype.unmount = function () {\n        event_1.removeAllEventListener(this.kutId);\n        util_1.getNode(this.kutId).remove();\n        delete this.kutId;\n        delete this.index;\n        delete this._element;\n    };\n    return TextInstance;\n}());\nexports.TextInstance = TextInstance;\nvar DOMInstance = (function () {\n    function DOMInstance(element) {\n        this.index = 0;\n        this._element = element;\n    }\n    Object.defineProperty(DOMInstance.prototype, \"key\", {\n        get: function () {\n            return this._element.key != null\n                ? 'k_' + this._element.key\n                : '' + this.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DOMInstance.prototype, \"node\", {\n        get: function () {\n            return util_1.getNode(this.kutId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DOMInstance.prototype.mount = function (kutId) {\n        var _this = this;\n        this.kutId = kutId;\n        var markup = \"<\" + this._element.type + \" \" + constant_1.KUT_ID + \"=\\\"\" + kutId + \"\\\" \";\n        if (this._element.key != null) {\n            markup += \"key=\\\"\" + this._element.key + \"\\\" \";\n        }\n        var props = this._element.props;\n        for (var prop in props) {\n            if (prop === 'children') {\n            }\n            else if (prop === 'className') {\n                markup += \"class=\\\"\" + util_1.getClassString(props.className) + \"\\\" \";\n            }\n            else if (prop === 'style') {\n                markup += \"style=\\\"\" + util_1.getStyleString(props.style) + \"\\\" \";\n            }\n            else if (constant_1.KUT_SUPPORTED_EVENT_HANDLERS[prop.toLowerCase()]\n                && typeof props[prop] === 'function') {\n                event_1.setEventListener(kutId, prop.toLowerCase().replace(constant_1.CUT_ON_REGEX, ''), props[prop]);\n            }\n            else {\n                markup += prop + \"=\\\"\" + props[prop] + \"\\\" \";\n            }\n        }\n        markup += '>';\n        this._childInstances = [];\n        this._element.props.children.forEach(function (child, index) {\n            var instance = renderer_1.instantiate(child);\n            instance.index = index;\n            markup += instance.mount(kutId + \":\" + instance.key);\n            _this._childInstances.push(instance);\n        });\n        markup += \"</\" + this._element.type + \">\";\n        return markup;\n    };\n    DOMInstance.prototype.shouldReceive = function (nextElement) {\n        return typeof nextElement === 'object'\n            && nextElement.type === this._element.type\n            && nextElement.key === this._element.key;\n    };\n    DOMInstance.prototype.update = function (nextElement) {\n        nextElement = nextElement == null ? this._element : nextElement;\n        var node = util_1.getNode(this.kutId);\n        var prevProps = this._element.props;\n        var nextProps = nextElement.props;\n        for (var prop in nextProps) {\n            if (prop === 'children') {\n                continue;\n            }\n            else if (prop === 'className') {\n                node.className = util_1.getClassString(nextProps.className);\n            }\n            else if (prop === 'style') {\n                node.style.cssText = util_1.getStyleString(nextProps.style);\n            }\n            else if (prop === 'value') {\n                node.value = nextProps.value;\n            }\n            else if (constant_1.KUT_SUPPORTED_EVENT_HANDLERS[prop.toLowerCase()]\n                && typeof nextProps[prop] === 'function') {\n                event_1.setEventListener(this.kutId, prop.toLowerCase().replace(constant_1.CUT_ON_REGEX, ''), nextProps[prop]);\n            }\n            else {\n                node.setAttribute(prop, nextProps[prop]);\n            }\n        }\n        for (var prop in prevProps) {\n            if (nextProps[prop] == null) {\n                if (constant_1.KUT_SUPPORTED_EVENT_HANDLERS[prop.toLowerCase()]\n                    && typeof nextProps[prop] === 'function') {\n                    event_1.removeEventListener(this.kutId, prop.toLowerCase().replace(constant_1.CUT_ON_REGEX, ''));\n                }\n                else {\n                    node.removeAttribute(prop);\n                }\n            }\n        }\n        var prevChildInstances = this._childInstances;\n        var nextChildren = nextElement.props.children;\n        if (prevChildInstances.length === 1\n            && nextChildren.length === 1\n            && prevChildInstances[0].shouldReceive(nextChildren[0])) {\n            prevChildInstances[0].update(nextChildren[0]);\n        }\n        else {\n            var patches = diff_1.diff(prevChildInstances, nextChildren);\n            diff_1.patch(this.kutId, patches);\n        }\n        this._element = nextElement;\n    };\n    DOMInstance.prototype.unmount = function () {\n        event_1.removeAllEventListener(this.kutId);\n        this._childInstances.forEach(function (child) { return child.unmount(); });\n        util_1.getNode(this.kutId).remove();\n        delete this.kutId;\n        delete this.index;\n        delete this._element;\n        delete this._childInstances;\n    };\n    return DOMInstance;\n}());\nexports.DOMInstance = DOMInstance;\nvar ComponentInstance = (function () {\n    function ComponentInstance(element) {\n        this.index = 0;\n        this._element = element;\n    }\n    Object.defineProperty(ComponentInstance.prototype, \"key\", {\n        get: function () {\n            return this._element.key != null\n                ? 'k_' + this._element.key\n                : '' + this.index;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(ComponentInstance.prototype, \"node\", {\n        get: function () {\n            return util_1.getNode(this.kutId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ComponentInstance.prototype.mount = function (kutId) {\n        this.kutId = kutId;\n        var type = this._element.type;\n        var ComponentConstructor = type;\n        this._component = new ComponentConstructor(this._element.props);\n        this._component.componentWillMount();\n        this._component.update = this.update.bind(this);\n        var renderedElement = this._component.render();\n        this._renderedInstance = renderer_1.instantiate(renderedElement);\n        var markup = this._renderedInstance.mount(kutId);\n        this._component.componentDidMount();\n        return markup;\n    };\n    ComponentInstance.prototype.shouldReceive = function (nextElement) {\n        return typeof nextElement === 'object'\n            && nextElement.type === this._element.type\n            && nextElement.key === this._element.key;\n    };\n    ComponentInstance.prototype.update = function (nextElement, nextState) {\n        if (nextState === void 0) { nextState = this._component.state; }\n        nextElement = nextElement == null ? this._element : nextElement;\n        this._component.props = nextElement.props;\n        this._component.state = nextState;\n        if (this._component.shouldComponentUpdate(nextElement.props, nextState)) {\n            this._component.componentWillUpdate(nextElement.props, nextState);\n            var nextRenderedElement = this._component.render();\n            this._renderedInstance.update(nextRenderedElement);\n            this._component.componentDidUpdate();\n        }\n        this._element = nextElement;\n    };\n    ComponentInstance.prototype.unmount = function () {\n        this._component.componentWillUnmount();\n        event_1.removeAllEventListener(this.kutId);\n        this._renderedInstance.unmount();\n        util_1.getNode(this.kutId).remove();\n        delete this.kutId;\n        delete this.index;\n        delete this._element;\n        delete this._component;\n        delete this._renderedInstance;\n    };\n    return ComponentInstance;\n}());\nexports.ComponentInstance = ComponentInstance;\n//# sourceMappingURL=instance.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar component_1 = require(\"./component\");\nvar instance_1 = require(\"./instance\");\nfunction instantiate(element) {\n    var instance = null;\n    if (typeof element === 'number' || typeof element === 'string') {\n        instance = new instance_1.TextInstance(element);\n    }\n    else if (typeof element.type === 'string') {\n        instance = new instance_1.DOMInstance(element);\n    }\n    else if (typeof element.type === typeof component_1.Component) {\n        instance = new instance_1.ComponentInstance(element);\n    }\n    return instance;\n}\nexports.instantiate = instantiate;\nfunction render(element, container) {\n    var instance = instantiate(element);\n    var rootId = Math.random().toString(36).substring(2, 4);\n    container.innerHTML = instance.mount(rootId);\n}\nexports.render = render;\n//# sourceMappingURL=renderer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar element_1 = require(\"./element\");\nvar component_1 = require(\"./component\");\nvar renderer_1 = require(\"./renderer\");\nvar Kut = {\n    createElement: element_1.createElement,\n    Component: component_1.Component,\n    render: renderer_1.render,\n};\nif (window) {\n    window.Kut = Kut;\n}\nexports.default = Kut;\n//# sourceMappingURL=kut.js.map","'use strict'\nmodule.exports = require('./dist/lib/kut.js');","import React from '../../../index'\nimport './Banner.less'\n\nclass Banner extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <header className=\"Banner\">\n        <h1 className=\"title\">Kut</h1>\n        <p className=\"desc\">数据驱动的前端视图渲染库</p>\n        <div className=\"link\">\n          <a href=\"https://www.npmjs.com/package/kut\">\n            <img src=\"https://img.shields.io/npm/v/kut.svg?style=flat-square\" alt=\"\"/>\n          </a>\n          <a href=\"https://github.com/Siubaak/kut\">\n            <img src=\"https://img.shields.io/github/stars/Siubaak/kut.svg?style=flat-square&label=Stars\" alt=\"\"/>\n          </a>\n        </div>\n      </header>\n    )\n  }\n}\n\nexport default Banner\n","import React from '../../../index'\nimport './Nav.less'\n\nclass Nav extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <nav className=\"Nav\">\n        <div className={{\n          nav: true,\n          fix: this.props.fix,\n        }}>\n          {this.props.children}\n        </div>\n      </nav>\n    )\n  }\n}\n\nexport default Nav\n","import React from '../../../index'\nimport './Content.less'\n\nclass Content extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <div className=\"Content\">\n        <div className={{\n          top: this.props.fix,\n        }}>\n          {this.props.children}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Content\n","import React from '../../../index'\nimport './Demo.less'\n\nlet uniqueKey = 0\nlet holding = false\nlet pos = { x: 0, y: 0 }\n\nclass Demo extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      input: '',\n      todos: [\n        { key: -1, item: '继续学习React源码' },\n        { key: -2, item: '笔记本要清灰了' },\n        { key: -3, item: '完成课程论文第二章' },\n        { key: -4, item: '买洗发水和沐浴露' },\n        { key: -5, item: '补番《紫罗兰永恒公园》' },\n      ],\n    }\n  }\n  handleInput(e) {\n    this.setState({ input: e.target.value })\n  }\n  handleAdd(e) {\n    if (this.state.input !== '') {\n      const todo = { key: uniqueKey++, item: this.state.input }\n      const todos = [ ...this.state.todos ]\n      todos.push(todo)\n      this.setState({ todos, input: '' })\n    }\n  }\n  handleRan(index) {\n    const todos = [ ...this.state.todos ]\n    const shuffleTodos = []\n    while(todos.length) {\n      const i = Math.floor(Math.random() * todos.length)\n      shuffleTodos.push(todos[i])\n      todos.splice(i, 1)\n    }\n    this.setState({ todos: shuffleTodos })\n  }\n  handleDel(index) {\n    const todos = [ ...this.state.todos ]\n    todos.splice(index, 1)\n    this.setState({ todos })\n  }\n  handleHold(e) {\n    if (e.target.tagName.toLowerCase() === 'li') {\n      holding = true\n      pos.x = e.x\n      pos.y = e.y\n      e.target.style.position = 'relative'\n    }\n  }\n  handleMove(e) {\n    if (holding) {\n      e.target.style.left = e.x - pos.x\n      e.target.style.top = e.y - pos.y\n      console.log(e.x, e.y)\n    }\n  }\n  handleRelease(e) {\n    e.target.style.position = ''\n    e.target.style.left = 0\n    e.target.style.top = 0\n    holding = false\n  }\n  render() {\n    return (\n      <div className=\"Demo\">\n        <p class=\"desc\">待办事项</p>\n        <div class=\"input-box\">\n          <input class=\"input\" onInput={this.handleInput.bind(this)} value={this.state.input}></input>\n          <button class=\"add\" onClick={this.handleAdd.bind(this)}>添加</button>\n          <button class=\"add\" onClick={this.handleRan.bind(this)}>打乱</button>\n        </div>\n        <ul class=\"list\">\n          {\n            this.state.todos.length\n            ? this.state.todos.map((todo, index) => \n              <li class=\"item\" key={todo.key}\n                style={{left: '50px'}}\n                onMouseDown={this.handleHold.bind(this)}\n                onMouseMove={this.handleMove.bind(this)}\n                onMouseUp={this.handleRelease.bind(this)}\n              >\n                {todo.item}\n                <button class=\"del\" onClick={() => this.handleDel(index)}>删除</button>\n              </li>\n            )\n            : <li class=\"item\">无</li>\n          }\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default Demo\n","import React from '../../../index'\nimport './Footer.less'\n\nclass Footer extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    return (\n      <footer className=\"Footer\">\n        <a className=\"desc\" href=\"https://github.com/Siubaak/kut\">Github - Kut</a>\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import React from '../index'\nimport Banner from './components/Banner'\nimport Nav from './components/Nav'\nimport Content from './components/Content'\nimport Demo from './components/Demo'\nimport Footer from './components/Footer'\nimport './App.less'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      fix: false,\n    }\n  }\n  componentDidMount() {\n    window.addEventListener('scroll', e => {\n      if (window.pageYOffset > 400 && !this.state.fix) {\n        this.setState({ fix: true })\n      } else if (window.pageYOffset <= 400 && this.state.fix) {\n        this.setState({ fix: false })\n      }\n    })\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <Banner/>\n        <Nav fix={this.state.fix}>\n          <a className={{ tab: true, color: this.state.fix }} href=\"#intro\">介绍</a>\n          <a className={{ tab: true, color: this.state.fix }} href=\"#demo\">示例</a>\n          <a className={{ tab: true, color: this.state.fix }} href=\"#docu\">文档</a>\n        </Nav>\n        <Content fix={this.state.fix}>\n          <div id=\"intro\" className=\"anchor\" />\n          <div className=\"item\">\n            <h1 class=\"title\">介绍</h1>\n            <p class=\"desc indent\">Kut，一个简单的React-Like的前端视图渲染库，是在学习React源码时造的轮子。目前Kut支持的方法仅有两个，即createElement、render，同时也支持组件开发，即Component类。已经能满足部分开发需求，这个网页本身就是基于Kut构建的，性能还行，不过暂时不建议用于生产环境。</p>\n            <p class=\"desc indent\">由于是参考(抄)的React，所以Kut基本的实现逻辑和React是相似的，Kut进行了改进的一个地方是diff算法。React的diff算法我称其为前向diff，<a href=\"https://zhuanlan.zhihu.com/p/20346379\">这篇文章</a>讲得很好，我就不赘述了。对于把元素从列表中底部挪到顶部的做法，React的前向diff更新操作过多会影响性能，而Kut引入了后向diff，并取前向diff和后向diff的较优结果进行更新，从而提升性能。大家可以对示例中的待办事项进行添加、打乱、拖拽来体验。</p>\n            <p class=\"desc indent\">由衷感叹一下React实在是太强大了，特别是Fiber。接下来我会慢慢的完善Kut，以支持Context、Portal等特性。欢迎大家pull request和star。</p>\n          </div>\n          <div id=\"demo\" className=\"anchor\" />\n          <div className=\"item\">\n            <h1 class=\"title\">示例</h1>\n            <Demo />\n          </div>\n          <div id=\"docu\" className=\"anchor\" />\n          <div className=\"item\">\n            <h1 class=\"title\">文档</h1>\n            <p class=\"desc indent\">Kut是基于TypeScript开发的，且自带了.d.ts文件，因此VSCode有良好的智能提醒。其实由于是参考(抄)的React，所以接口的用法基本一致。</p>\n            <h2 class=\"title\">Kut.Component</h2>\n            <h2 class=\"title\">Kut.createElement</h2>\n            <h2 class=\"title\">Kut.render</h2>\n          </div>\n        </Content>\n        <Footer />\n      </div>\n    )\n  }\n}\n\nexport default App\n","import React from '../index'\nimport App from './App'\nimport './index.less'\n\nReact.render(<App />, document.getElementById('root'))","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}